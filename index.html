<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>My Private Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",sans-serif;background:#0b0f19;color:#e8eefc}
    header{padding:16px;border-bottom:1px solid rgba(255,255,255,.1)}
    h1{margin:0;font-size:18px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;padding:12px}
    .card{border:1px solid rgba(255,255,255,.1);border-radius:12px;background:rgba(255,255,255,.03);overflow:hidden}
    .card h2{margin:0;padding:8px 12px;font-size:13px;border-bottom:1px solid rgba(255,255,255,.1)}
    iframe{width:100%;height:360px;border:0}
    .span6{grid-column:span 6}
    .span12{grid-column:span 12}
    .span4{grid-column:span 4}
    @media(max-width:900px){
      .span6,.span4{grid-column:span 12}
    }
    ul{margin:0;padding:10px 20px;font-size:14px;line-height:1.6}
    a{color:#9cc3ff}
    table{width:100%;border-collapse:collapse;font-size:13px}
    th,td{padding:6px 8px;border-bottom:1px solid rgba(255,255,255,.1)}
  </style>
</head>
<body>

<header>
  <h1>My Private Dashboard</h1>
</header>

<div class="grid">

  <!-- 為替チャート -->
  <div class="card span12">
    <h2>為替（USD/JPY）</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=FX%3AUSDJPY&theme=dark&interval=60&timezone=Asia%2FTokyo"></iframe>
  </div>

  <!-- 金銀 -->
  <div class="card span6">
    <h2>Gold（金）</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=TVC%3AGOLD&theme=dark"></iframe>
  </div>

  <div class="card span6">
    <h2>Silver（銀）</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=TVC%3ASILVER&theme=dark"></iframe>
  </div>

  <!-- コモディティ -->
  <div class="card span4">
    <h2>原油（WTI）</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=TVC%3AUSOIL&theme=dark"></iframe>
  </div>

  <div class="card span4">
    <h2>天然ガス</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=NYMEX%3ANG1!&theme=dark"></iframe>
  </div>

  <div class="card span4">
    <h2>小麦</h2>
    <iframe src="https://s.tradingview.com/widgetembed/?symbol=CBOT%3AZW1!&theme=dark"></iframe>
  </div>

  <!-- ニュース -->
  <div class="card span6">
    <h2>Yahooニュース</h2>
    <ul id="yahoo"></ul>
  </div>

  <div class="card span6">
    <h2>埼玉新聞（Google News経由）</h2>
    <ul id="saitama"></ul>
  </div>

  <!-- 為替一覧 -->
  <div class="card span12">
    <h2>円ベース 全通貨レート</h2>
    <table>
      <thead><tr><th>通貨</th><th>レート</th></tr></thead>
      <tbody id="fxTable"></tbody>
    </table>
  </div>

  <!-- Xリンク -->
  <div class="card span12">
    <h2>注目アカウント</h2>
    <ul>
      <li><a href="https://x.com/TsutsumiMika" target="_blank">堤未果さんのX</a></li>
    </ul>
  </div>

</div>

<script>
async function loadRSS(url, elementId){
  const res = await fetch("https://api.allorigins.win/raw?url=" + encodeURIComponent(url));
  const text = await res.text();
  const xml = new DOMParser().parseFromString(text,"text/xml");
  const items = xml.querySelectorAll("item");
  const ul = document.getElementById(elementId);
  ul.innerHTML = "";
  for(let i=0;i<5;i++){
    const it = items[i];
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = it.querySelector("link").textContent;
    a.textContent = it.querySelector("title").textContent;
    a.target="_blank";
    li.appendChild(a);
    ul.appendChild(li);
  }
}

loadRSS("https://news.yahoo.co.jp/rss/topics/top-picks.xml","yahoo");
loadRSS("https://news.google.com/rss/search?q=site:saitama-np.co.jp&hl=ja&gl=JP&ceid=JP:ja","saitama");

async function loadFX(){
  const res = await fetch("https://api.frankfurter.dev/v1/latest?base=JPY");
  const data = await res.json();
  const tbody = document.getElementById("fxTable");
  for(const [cur,rate] of Object.entries(data.rates)){
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${cur}</td><td>${rate.toFixed(4)}</td>`;
    tbody.appendChild(tr);
  }
}
loadFX();
</script>

</body>
</html>
